<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Syntax Highlighting and Automatic Linking • downlit</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Syntax Highlighting and Automatic Linking">
<meta property="og:description" content="Syntax highlighting of R code, specifically designed
    for the needs of RMarkdown packages like pkgdown, hugodown, and
    bookdown. It includes linking of function calls to their documentation
    on the web, and automatic translation of ANSI escapes in output to the
    equivalent HTML.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">downlit</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/r-lib/downlit/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="downlit" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#downlit" class="anchor"></a>downlit</h1></div>
<!-- badges: start -->

<p>The goal of downlit is to provide syntax highlighting and automatic linking of R code in a way that is easily used from RMarkdown packages like <a href="https://pkgdown.r-lib.org/">pkgdown</a>, <a href="https://bookdown.org">bookdown</a>, and <a href="https://hugodown.r-lib.org/">hugodown</a>.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install downlit from CRAN with:</p>
<p><code>{r, eval = FALSE} install.packages("downlit")</code></p>
</div>
<div id="features" class="section level2">
<h2 class="hasAnchor">
<a href="#features" class="anchor"></a>Features</h2>
<p>downlit has two slightly different highlighting/linking engines:</p>
<ul>
<li>
<code><a href="reference/highlight.html">highlight()</a></code> works with multiline code blocks and does syntax highlighting, function linking, and comment styling.</li>
<li>
<code><a href="reference/autolink.html">autolink()</a></code> works with inline code and only does linking.</li>
</ul>
<p>Multiline code blocks have:</p>
<ul>
<li>Code syntax highlighted using R’s parser.</li>
<li>Function calls automatically linked to their corresponding documentation.</li>
<li>Comments styled by transforming ANSI escapes sequences to their HTML equivalents (thanks <a href="https://github.com/brodieG/fansi">fansi</a> package).</li>
</ul>
<p>The following forms of inline code are recognized and automatically linked:</p>
<ul>
<li>
<code>fun()</code>, <code>pkg::fun()</code>.</li>
<li>
<code>?fun</code>, <code>pkg::fun</code>, <code>type?topic</code>.</li>
<li>
<code>help("fun")</code>, <code>help("fun", package = "package")</code>, <code><a href="https://rdrr.io/pkg/package/man">help(package = "package")</a></code>.</li>
<li>
<code>vignette("name")</code>, <code>vignette("name", package = "package")</code>.</li>
<li>
<code>library(package)</code>, <code>require(package)</code>, <code>requireNamespace("package")</code>.</li>
<li>
<code>{package}</code> gets linked (if possible) <em>and formatted as plain text</em>.</li>
</ul>
<div id="cross-package-links" class="section level3">
<h3 class="hasAnchor">
<a href="#cross-package-links" class="anchor"></a>Cross-package links</h3>
<p>If downlit can find a pkgdown site for the remote package, it will link to it; otherwise it will link to <a href="https://rdrr.io/" class="uri">https://rdrr.io/</a> for documentation, and CRAN for vignettes. In order for a pkgdown site to be findable, it needs to be listed in two places:</p>
<ul>
<li>
<p>In the <code>URL</code> field in the <code>DESCRIPTION</code>, as in <a href="https://github.com/tidyverse/dplyr/blob/85faf79c1fd74f4b4f95319e5be6a124a8075502/DESCRIPTION#L15">dplyr</a>:</p>
<pre><code>URL: https://dplyr.tidyverse.org, https://github.com/tidyverse/dplyr</code></pre>
</li>
<li>
<p>In the <code>url</code> field in <code>_pkgdown.yml</code>, as in <a href="https://github.com/tidyverse/dplyr/blob/master/_pkgdown.yml#L1">dplyr</a></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">url</span><span class="kw">:</span><span class="at"> https://dplyr.tidyverse.org</span></span></code></pre></div>
<p>When this field is defined, pkgdown generates a public facing <a href="https://dplyr.tidyverse.org/pkgdown.yml"><code>pkgdown.yml</code> file</a> that provides metadata about the site:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">pandoc</span><span class="kw">:</span><span class="at"> </span><span class="st">'2.2'</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="fu">pkgdown</span><span class="kw">:</span><span class="at"> </span><span class="fl">1.3.0</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="fu">pkgdown_sha</span><span class="kw">:</span><span class="at"> </span><span class="ch">~</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="fu">articles</span><span class="kw">:</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="at">  </span><span class="fu">compatibility</span><span class="kw">:</span><span class="at"> compatibility.html</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="at">  </span><span class="fu">dplyr</span><span class="kw">:</span><span class="at"> dplyr.html</span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="fu">urls</span><span class="kw">:</span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="at">  </span><span class="fu">reference</span><span class="kw">:</span><span class="at"> https://dplyr.tidyverse.org/reference</span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="at">  </span><span class="fu">article</span><span class="kw">:</span><span class="at"> https://dplyr.tidyverse.org/articles</span></span></code></pre></div>
</li>
</ul>
<p>So when you build a pkgdown site that links to the dplyr documentation (e.g., <code>dplyr::mutate()</code>), pkgdown looks first in dplyr’s <code>DESCRIPTION</code> to find its website, then it looks for <code>pkgdown.yml</code>, and uses the metadata to generate the correct links.</p>
</div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>downlit is designed to be used by other packages, and I expect most uses of downlit will use it via another package (e.g. <a href="https://github.com/r-lib/hugodown">hugodown</a>). If you want to use it in your own package, you’ll typically want to apply it as part of some bigger transformation process. You can get some sense of how this might work by reading the source code of <a href="https://github.com/r-lib/downlit/blob/master/R/downlit-html.R"><code>downlit_html()</code></a> and <a href="https://github.com/r-lib/downlit/blob/master/R/downlit-md.R"><code>downlit_md()</code></a>, which transform HTML and markdown documents respectively.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=downlit">https://​cloud.r-project.org/​package=downlit</a>
</li>
<li>Browse source code at <br><a href="https://github.com/r-lib/downlit/">https://​github.com/​r-lib/​downlit/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/r-lib/downlit/issues">https://​github.com/​r-lib/​downlit/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="http://hadley.nz">Hadley Wickham</a> <br><small class="roles"> Author, maintainer </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/r-lib/downlit/actions"><img src="https://github.com/r-lib/downlit/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://codecov.io/gh/r-lib/downlit?branch=master"><img src="https://codecov.io/gh/r-lib/downlit/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://CRAN.R-project.org/package=downlit"><img src="https://www.r-pkg.org/badges/version/downlit" alt="CRAN status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by <a href="http://hadley.nz">Hadley Wickham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
